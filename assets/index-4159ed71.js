import{F as E,u as N}from"./provide-49bdcacd.js";import{d as p,h as W,a as t,c as B,w as D}from"./components-ee7ab657.js";import{u as S}from"./index-0fec3d0b.js";import{d as q,D as c,G as b,aV as _,n as z,_ as P,b as I,e as L,m as j,p as H,v as J,x,q as K}from"./index-95102025.js";const O={modelValue:{type:Array,default:()=>[]},max:[String,Number],direction:{type:String,default:"horizontal"},validateTrigger:{type:Array,default:()=>["onChange"]},rules:Array,onChange:p(),"onUpdate:modelValue":p()},{name:Q,n:R,classes:X}=B("checkbox-group"),Y=q({name:Q,components:{VarFormDetails:E},props:O,setup(e){const i=c(()=>e.max),u=c(()=>e.modelValue.length),{length:d,checkboxes:r,bindCheckboxes:m}=S(),{bindForm:s}=N(),{errorMessage:f,validateWithTrigger:y,validate:A,resetValidation:l}=W(),U=c(()=>f.value),h={max:i,checkedCount:u,onChecked:F,onUnchecked:G,validate:C,resetValidation:l,reset:k,errorMessage:U};b(()=>e.modelValue,v,{deep:!0}),b(()=>d.value,v),m(h),t(s,h);function $(a){z(()=>{const{validateTrigger:n,rules:o,modelValue:w}=e;y(n,a,o,w)})}function g(a){t(e["onUpdate:modelValue"],a),t(e.onChange,a),$("onChange")}function F(a){const{modelValue:n}=e;n.includes(a)||g([...n,a])}function G(a){const{modelValue:n}=e;n.includes(a)&&g(n.filter(o=>o!==a))}function v(){return r.forEach(({sync:a})=>a(e.modelValue))}function V(){r.forEach(a=>a.resetWithAnimation())}function M(){const a=r.map(({checkedValue:o})=>o.value),n=_(a);return V(),t(e["onUpdate:modelValue"],n),n}function T(){const a=r.filter(({checked:o})=>!o.value).map(({checkedValue:o})=>o.value),n=_(a);return V(),t(e["onUpdate:modelValue"],n),n}function k(){t(e["onUpdate:modelValue"],[]),l()}function C(){return A(e.rules,e.modelValue)}return{errorMessage:f,n:R,classes:X,checkAll:M,inverseAll:T,reset:k,validate:C,resetValidation:l}}});function Z(e,i,u,d,r,m){const s=I("var-form-details");return L(),j("div",{class:x(e.n("wrap"))},[H("div",{class:x(e.classes(e.n(),e.n(`--${e.direction}`)))},[J(e.$slots,"default")],2),K(s,{"error-message":e.errorMessage},null,8,["error-message"])],2)}const ee=P(Y,[["render",Z]]);D(ee);export{ee as C};
