import{_ as A,e as c,m as u,p as d,d as E,W as D,X as w,b as N,L as V,N as I,O as U,P as M,f as q,w as R,R as L,x,r as i,g as y,c as h,C as G,o as H,G as Y,q as f,Y as z,U as T,t as F,l as W,a as k,n as X}from"./index-95102025.js";import{A as j}from"./AppHeader-25f6b42d.js";const J={name:"AppMobile",props:{componentName:{type:String},language:{type:String},replace:{type:String},hash:{type:String}}};const K={class:"varlet-site-mobile varlet-site-mobile--375"},Q={class:"varlet-site-mobile-content"},Z=["src"];function ee(a,o,s,_,r,p){return c(),u("div",K,[d("div",Q,[d("iframe",{id:"mobile",src:`./mobile.html#/${s.componentName}?language=${s.language}&platform=pc&replace=${s.replace}${s.hash?`#${s.hash}`:""}`},null,8,Z)])])}const ae=A(J,[["render",ee]]),te=E({name:"AppSidebar",props:{menu:{type:Array},menuName:{type:String},language:{type:String,default:""}},emits:["change"],setup(a,{emit:o}){return{menuTypes:D(w),changeRoute:r=>{r.type===w.TITLE||a.menuName===r.doc||o("change",r)}}}});const ne={class:"varlet-site-sidebar var-elevation--3"},se=d("span",{class:"varlet-site-sidebar__indicator"},null,-1),oe={key:0,class:"varlet-site-sidebar__item--title"},le={key:1};function ce(a,o,s,_,r,p){const g=N("var-cell"),m=V("ripple");return c(),u("div",ne,[(c(!0),u(I,null,U(a.menu,(t,b)=>M((c(),q(g,{class:x(["varlet-site-sidebar__item",{"varlet-site-sidebar__item--active":t.doc===a.menuName,"varlet-site-sidebar__link":t.type!==a.menuTypes.TITLE,"varlet-site-sidebar__title":t.type===a.menuTypes.TITLE}]),id:t.doc,key:b,onClick:$=>a.changeRoute(t)},{default:R(()=>[se,t.type===a.menuTypes.TITLE?(c(),u("span",oe,L(t.text[a.language]),1)):(c(),u("span",le,L(t.text[a.language]),1))]),_:2},1032,["id","class","onClick"])),[[m,{disabled:t.type===a.menuTypes.TITLE}]])),128))])}const re=A(te,[["render",ce]]),ie={class:"varlet-site"},ue={class:"varlet-site-content"},de={class:"varlet-site-playground-container"},_e=["src"],ve=E({__name:"Layout",setup(a){const o=W,s=i(y(h,"pc.menu",[])),_=i(y(h,"useMobile")),r=y(h,"mobile.redirect"),p=i(""),g=i(),m=i(""),t=i(""),b=i(null),$=G(),C=e=>{const n=s.value.find(l=>l.doc===e);return(n==null?void 0:n.type)===w.COMPONENT?e:r.slice(1)},B=()=>{const{menuName:e}=k();X(()=>{const n=document.querySelector(".varlet-site-sidebar").getElementsByClassName("var-cell"),l=s.value.findIndex(v=>v.doc===e);l!==-1&&n[l].scrollIntoView({block:"center",inline:"start"})})},P=e=>{b.value.scrollTop=0,g.value=C(e.doc),m.value=e.doc,t.value=""},S=()=>{const e="VARLET_UI_PLAYGROUND_HAS_BEEN_CLOSED";!localStorage.getItem(e)&&!window.confirm("The code will no longer be saved after closing. Are you sure you want to close?")||(localStorage.setItem(e,"true"),o.showPlayground=!1)};return H(()=>{B(),window.addEventListener("message",e=>{const{data:n}=e;n.action==="playground-close"&&S()})}),Y(()=>$.path,()=>{var v;const{language:e,menuName:n,hash:l}=k();!e||!n||(g.value=C(n),m.value=n,t.value=l,p.value=e,_.value=((v=s.value.find(O=>O.doc===n))==null?void 0:v.useMobile)??y(h,"useMobile"),document.title=y(h,"pc.title")[e])},{immediate:!0}),(e,n)=>{const l=N("router-view"),v=N("var-popup");return c(),u(I,null,[d("div",ie,[f(j,{language:p.value},null,8,["language"]),d("div",ue,[f(re,{language:p.value,menu:s.value,"menu-name":m.value,onChange:P},null,8,["language","menu","menu-name"]),d("div",{class:x(["varlet-site-doc-container",[!_.value&&"varlet-site-doc-container--pc-only"]]),ref_key:"doc",ref:b},[f(l)],2),M(f(ae,{"component-name":g.value,language:p.value,replace:m.value,hash:t.value},null,8,["component-name","language","replace","hash"]),[[z,_.value]])])]),f(v,{position:"right",show:T(o).showPlayground,onClickOverlay:S},{default:R(()=>[d("div",de,[T(o).showPlayground?(c(),u("iframe",{key:0,id:"playground",class:"varlet-site-playground-iframe",src:T(o).playgroundURL,allow:"clipboard-write"},`
      `,8,_e)):F("",!0)])]),_:1},8,["show"])],64)}}});export{ve as default};
