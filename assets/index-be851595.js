import{M as ee}from"./index-f2aa17bd.js";import{v as ae}from"./index-9bf7cd1d.js";import{I as le}from"./index-809bff45.js";import{C as ie}from"./index-4a63e590.js";import{I as se}from"./index-233ad3c9.js";import{d as T,f as ne,c as oe,a as U,w as ue}from"./components-ee7ab657.js";import{d as re,r as V,a4 as u,D as N,G as K,ae as H,_ as te,b as B,L as de,e as d,m as f,P as S,x as r,v as O,q as y,b4 as Q,p as $,Q as q,R as b,N as R,O as F,w as L,f as me,M as pe,t as D}from"./index-95102025.js";import{p as ve}from"./index-3a6c1408.js";const fe={current:[Number,String],size:{type:[Number,String],default:10},total:{type:[Number,String],default:0},elevation:{type:[Boolean,Number,String],default:!0},maxPagerCount:{type:Number,default:3},disabled:Boolean,simple:{type:Boolean,default:!0},showSizeChanger:{type:Boolean,default:!0},showQuickJumper:Boolean,sizeOption:{type:Array,default:()=>[10,20,50,100]},showTotal:Function,onChange:T(),"onUpdate:current":T(),"onUpdate:size":T()},{name:be,n:ge,classes:ke}=oe("pagination"),Ve=re({name:be,components:{VarMenu:ee,VarIcon:le,VarCell:ie,VarInput:se},directives:{Ripple:ae},props:fe,setup(e){const i=V(!1),E=V(""),h=V("1"),C=V(!1),z=V(!1),s=V(u(e.current)||1),m=V(u(e.size)||10),M=V([]),c=N(()=>Math.ceil(e.maxPagerCount/2)),p=N(()=>Math.ceil(u(e.total)/u(m.value))),l=N(()=>{const a=m.value*(s.value-1)+1,o=Math.min(m.value*s.value,u(e.total));return[a,o]}),k=N(()=>e.showTotal?e.showTotal(u(e.total),l.value):"");K([()=>e.current,()=>e.size],([a,o])=>{s.value=u(a)||1,m.value=u(o||10)}),K([s,m,p],([a,o,g],[P,Y])=>{let t=[];const{maxPagerCount:v,total:Z,onChange:x}=e,_=Math.ceil(u(Z)/u(Y)),J=g-(v-c.value)-1;if(h.value=`${a}`,g-2>v){if(P===void 0||g!==_)for(let n=2;n<v+2;n++)t.push(n);if(a<=v&&a<J){t=[];for(let n=1;n<v+1;n++)t.push(n+1);C.value=!0,z.value=!1}if(a>v&&a<J){t=[];for(let n=1;n<v+1;n++)t.push(a+n-c.value);C.value=a===2&&v===1,z.value=!1}if(a>=J){t=[];for(let n=1;n<v+1;n++)t.push(g-(v-n)-1);C.value=!1,z.value=!0}t=[1,"...",...t,"...",g]}else for(let n=1;n<=g;n++)t.push(n);M.value=t,P!=null&&g>0&&U(x,a,o),U(e["onUpdate:current"],a),U(e["onUpdate:size"],o)},{immediate:!0});function w(a,o){return H(a)?!1:o===1?C.value:z.value}function A(a,o){return H(a)?"basic":o===1?"head":"tail"}function G(a,o){if(!(a===s.value||e.disabled)){if(a==="..."){s.value=o===1?Math.max(s.value-e.maxPagerCount,1):Math.min(s.value+e.maxPagerCount,p.value);return}if(a==="prev"){s.value=I(s.value-1);return}if(a==="next"){s.value=I(s.value+1);return}H(a)&&(s.value=a)}}function j(){e.disabled||(i.value=!0)}function W(a){m.value=a,i.value=!1;const o=I(s.value);h.value=String(o),s.value=o}function I(a){return a>p.value?p.value:a<1?1:a}function X(a,o,g){g.target.blur();const P=I(u(o));h.value=String(P),s.value=P,a==="quick"&&(E.value="")}return{pack:ve,current:s,menuVisible:i,size:m,pageCount:p,pageList:M,quickJumperValue:E,simpleCurrentValue:h,totalText:k,n:ge,classes:ke,getMode:A,isHideEllipsis:w,clickItem:G,showMenu:j,clickSize:W,setPage:X,toNumber:u,formatElevation:ne}}});const ye=["item-mode","onClick"];function he(e,i,E,h,C,z){const s=B("var-icon"),m=B("var-input"),M=B("var-cell"),c=B("var-menu"),p=de("ripple");return d(),f("ul",{class:r(e.n())},[S((d(),f("li",{class:r(e.classes(e.n("item"),e.n("prev"),[e.current<=1||e.disabled,e.n("item--disabled")],[e.simple,e.n("item--simple"),e.formatElevation(e.elevation,2)])),onClick:i[0]||(i[0]=l=>e.clickItem("prev"))},[O(e.$slots,"prev",{},()=>[y(s,{name:"chevron-left"})])],2)),[[p,{disabled:e.current<=1||e.disabled}]]),e.simple?(d(),f("li",{key:0,class:r(e.classes(e.n("simple"),[e.disabled,e.n("item--disabled")]))},[y(m,{"var-pagination-cover":"",hint:!1,disabled:e.disabled,modelValue:e.simpleCurrentValue,"onUpdate:modelValue":i[1]||(i[1]=l=>e.simpleCurrentValue=l),onBlur:i[2]||(i[2]=l=>e.setPage("simple",e.simpleCurrentValue,l)),onKeydown:i[3]||(i[3]=Q(l=>e.setPage("simple",e.simpleCurrentValue,l),["enter"]))},null,8,["disabled","modelValue"]),$("span",null,[q(" / "+b(e.pageCount)+" ",1),$("div",{class:r(e.n("simple-line"))},null,2)])],2)):(d(!0),f(R,{key:1},F(e.pageList,(l,k)=>S((d(),f("li",{key:k,"item-mode":e.getMode(l,k),class:r(e.classes(e.n("item"),e.formatElevation(e.elevation,2),[l===e.current&&!e.disabled,e.n("item--active")],[e.isHideEllipsis(l,k),e.n("item--hide")],[e.disabled,e.n("item--disabled")],[l===e.current&&e.disabled,e.n("item--disabled--active")])),onClick:w=>e.clickItem(l,k)},[q(b(l),1)],10,ye)),[[p,{disabled:e.disabled}]])),128)),S((d(),f("li",{class:r(e.classes(e.n("item"),e.n("next"),[e.current>=e.pageCount||e.disabled,e.n("item--disabled")],[e.simple,e.n("item--simple"),e.formatElevation(e.elevation,2)])),onClick:i[4]||(i[4]=l=>e.clickItem("next"))},[O(e.$slots,"next",{},()=>[y(s,{name:"chevron-right"})])],2)),[[p,{disabled:e.current>=e.pageCount||e.disabled}]]),e.showSizeChanger?(d(),f("li",{key:2,class:r(e.classes(e.n("size"),[e.disabled,e.n("item--disabled")]))},[y(c,{placement:"cover-top",disabled:e.disabled,show:e.menuVisible,"onUpdate:show":i[6]||(i[6]=l=>e.menuVisible=l)},{menu:L(()=>[(d(!0),f(R,null,F(e.sizeOption,(l,k)=>S((d(),me(M,{class:r(e.classes(e.n("list"),[e.size===l,e.n("list--active")])),key:k,onClick:w=>e.clickSize(l)},{default:L(()=>[q(b(l)+b(e.pack.paginationItem)+" / "+b(e.pack.paginationPage),1)]),_:2},1032,["class","onClick"])),[[p]])),128))]),default:L(()=>[$("div",{class:r(e.classes(e.n("size--open"),[e.current<=1||e.disabled,e.n("size--open--disabled")])),onClick:i[5]||(i[5]=pe((...l)=>e.showMenu&&e.showMenu(...l),["stop"]))},[$("span",null,b(e.size)+b(e.pack.paginationItem)+" / "+b(e.pack.paginationPage),1),y(s,{class:r(e.n("size--open-icon")),"var-pagination-cover":"",name:"menu-down"},null,8,["class"])],2)]),_:1},8,["disabled","show"])],2)):D("",!0),e.showQuickJumper&&!e.simple?(d(),f("li",{key:3,class:r(e.classes(e.n("quickly"),[e.disabled,e.n("item--disabled")]))},[q(b(e.pack.paginationJump)+" ",1),y(m,{modelValue:e.quickJumperValue,"onUpdate:modelValue":i[7]||(i[7]=l=>e.quickJumperValue=l),disabled:e.disabled,"var-pagination-cover":"",onBlur:i[8]||(i[8]=l=>e.setPage("quick",e.quickJumperValue,l)),onKeydown:i[9]||(i[9]=Q(l=>e.setPage("quick",e.quickJumperValue,l),["enter"]))},null,8,["modelValue","disabled"])],2)):D("",!0),e.totalText?(d(),f("li",{key:4,class:r(e.classes(e.n("total"),[e.disabled,e.n("item--disabled")]))},b(e.totalText),3)):D("",!0)],2)}const Ce=te(Ve,[["render",he]]);ue(Ce);export{Ce as P};
