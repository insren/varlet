import{d as P,c as H,a as R,h as J,w as K}from"./components-ee7ab657.js";import{a as X,u as Z,F as ee}from"./provide-49bdcacd.js";import{d as ae,D as B,b3 as le,_ as F,e as E,m as I,v as W,x as Y,p as G,q as t,U as e,n as oe,W as te,r as T,F as se,aj as re,w as n,N as ne,Q as m,R as i,$ as ue,a0 as de}from"./index-95102025.js";import{g as me,h as z,t as ie,s as pe}from"./elements-fed7d8fa.js";import{l as ce}from"./shared-01522925.js";import{I as D}from"./index-233ad3c9.js";import{S as L}from"./index-0a331cfa.js";import{O as k}from"./index-0ffee8c6.js";import{C as fe}from"./index-4159ed71.js";import{C as h}from"./index-0fec3d0b.js";import{a as ge,R as A}from"./index-ad3f0e41.js";import{B as C}from"./index-281c4261.js";import{S as ve}from"./index-05dc412e.js";import{S as Ve}from"./index-8c5339c7.js";import{U as be}from"./index-e5bb9a9d.js";import{C as ye}from"./index-1f79595f.js";import{R as Me}from"./index-0814a670.js";import{S as O}from"./index-48b35c49.js";import{I as ke}from"./index-809bff45.js";import{d as _e}from"./index-ea9abee8.js";import{u as Ce,b as j,_ as xe,c as Ue,a as $e}from"./index-3a6c1408.js";import{A as w}from"./appType-d8c1e874.js";import"./logger-525ef361.js";import"./FieldDecorator-bf24e48a.js";import"./index-f2aa17bd.js";import"./usePopover-4f68c4bc.js";import"./zIndex-786cbeb4.js";import"./index-6f5cb71d.js";import"./index-ea30b137.js";import"./index-9bf7cd1d.js";/* empty css               */import"./index-5b3cd96a.js";import"./index-b06a091b.js";import"./index-7461e419.js";import"./index-d3f586a9.js";import"./lock-a004129c.js";import"./provide-36eacff8.js";import"./index-fab016db.js";import"./index-55d334f6.js";import"./provide-3c083ee1.js";import"./index-a5462a07.js";const Se={disabled:Boolean,readonly:Boolean,scrollToError:String,scrollToErrorOffsetY:{type:[String,Number],default:0},onSubmit:P(),onReset:P()},{name:Te,n:he}=H("form"),we=ae({name:Te,props:Se,setup(r){const s=B(()=>r.disabled),p=B(()=>r.readonly),{formItems:u,bindFormItems:v}=X();v({disabled:s,readonly:p});function l(d){setTimeout(()=>{const c=me(d),f=c===window?0:z(c),y=z(d)-f-ie(r.scrollToErrorOffsetY);pe(c,{top:y,animation:ce})},300)}async function a(d){d.preventDefault();const c=await _();R(r.onSubmit,c)}function $(d){d.preventDefault(),b(),R(r.onReset)}async function _(){var c;const d=await Promise.all(u.map(({validate:f})=>f()));if(r.scrollToError){const[,f]=le(d,M=>M===!1,r.scrollToError),y=f>-1;if(y){const M=(c=u[f].instance.proxy)==null?void 0:c.$el;l(M)}return!y}return d.every(f=>f===!0)}function b(){return u.forEach(({reset:d})=>d())}function g(){return u.forEach(({resetValidation:d})=>d())}return{n:he,handleSubmit:a,handleReset:$,validate:_,reset:b,resetValidation:g}}});function Fe(r,s,p,u,v,V){return E(),I("form",{class:Y(r.n()),onSubmit:s[0]||(s[0]=(...l)=>r.handleSubmit&&r.handleSubmit(...l)),onReset:s[1]||(s[1]=(...l)=>r.handleReset&&r.handleReset(...l))},[W(r.$slots,"default")],34)}const x=F(we,[["render",Fe]]);x.useValidation=J;x.useForm=Z;K(x);const Ee={__name:"CustomFormComponent",props:{modelValue:{type:Boolean},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},rules:{type:Array},validateTrigger:{type:Array,default:()=>["onToggle"]},extraMessage:{type:String}},emits:["update:modelValue"],setup(r,{expose:s,emit:p}){const u=r,{useForm:v,useValidation:V}=x,{errorMessage:l,validateWithTrigger:a,validate:$,resetValidation:_}=V(),{bindForm:b,form:g}=v(),d=()=>$(u.rules,u.modelValue);function c(){p("update:modelValue",!1),_()}function f(S){oe(()=>{const{validateTrigger:N,rules:U,modelValue:Q}=u;a(N,S,U,Q)})}function y(){u.readonly||u.disabled||g!=null&&g.readonly.value||g!=null&&g.disabled.value||(p("update:modelValue",!u.modelValue),f("onToggle"))}const M={reset:c,validate:d,resetValidation:_};return s(M),b==null||b(M),(S,N)=>{var U;return E(),I("div",{class:Y(["var-custom-form-component",{"var-custom-form-component--disabled":r.disabled||((U=e(g))==null?void 0:U.disabled.value),"var-custom-form-component--error":e(l)}])},[G("div",{class:"var-custom-form-component__container",onClick:y},[t(e(ke),{class:"var-custom-form-component__icon",name:r.modelValue?"checkbox-marked-circle":"close-circle",transition:250},null,8,["name"]),W(S.$slots,"default",{},void 0,!0)]),t(e(ee),{"error-message":e(l),"extra-message":r.extraMessage},null,8,["error-message","extra-message"])],2)}}},Ie=F(Ee,[["__scopeId","data-v-235f566f"]]),Ne={example:"表单示例",username:"请输入用户名",usernameMessage:"用户名不能为空",password:"请输入密码",passwordMessage:"请输入密码",department:"请选择部门",departmentMessage:"必须选一个部门",eat:"吃饭",sleep:"睡觉",play:"打游戏",departmentUnit:"部",group:"请选择组织",groupMessage:"至少选择一个组织",groupUnit:"组",genderMessage:"必须选择一个性别",male:"男",female:"女",rateMessage:"必须大于2",likeMessage:"至少选择一个爱好",licenseMessage:"您必须开启",countMessage:"必须大于10",rangeMessage:"必须大于10",filesMessage:"至少上传一张图片",customFormComponent:"自定义表单组件",customLabel:"点我切换",customErrorMessage:"必须是对勾",customExtraMessage:"附加信息",controller:"表单控制",reset:"清空表单",resetValidation:"清空验证",validate:"触发验证",disabled:"表单禁用",readonly:"表单只读"},Pe={example:"Form Example",username:"Please input username",usernameMessage:"The username cannot be empty",password:"Please input password",passwordMessage:"The password cannot be empty",department:"Please select department",departmentMessage:"The select cannot be empty",eat:"Eat",sleep:"Sleep",play:"Play game",departmentUnit:" department",group:"Please select group",groupMessage:"The select cannot be empty",groupUnit:" group",genderMessage:"The gender cannot be empty",male:"Male",female:"Female",rateMessage:"It has to be greater than 2",likeMessage:"The select cannot be empty",licenseMessage:"You must turn on",countMessage:"It has to be greater than 10",rangeMessage:"It has to be greater than 10",filesMessage:"Upload at least one picture",customFormComponent:"Custom Form Component",customLabel:"Click toggle",customErrorMessage:"Please check it",customExtraMessage:"Extra message",controller:"Form control",reset:"Empty form",resetValidation:"Empty the validation",validate:"Trigger validation",disabled:"Form disabled",readonly:"Form readonly"},{add:q,use:Re,pack:o,packs:Ta,merge:ha}=Ce(),Be=r=>{$e(r),Re(r)};j("zh-CN",xe);j("en-US",Ue);q("zh-CN",Ne);q("en-US",Pe);const ze=r=>(ue("data-v-9da29a7c"),r=r(),de(),r),De=ze(()=>G("div",{class:"space"},null,-1)),Le={__name:"index",setup(r){const s=te({username:"",password:"",department:"",gender:void 0,license:!1,range:0,count:0,group:[],score:0,like:[],files:[],custom:!1}),p=T(null),u=T(!1),v=T(!1);return se(V=>{var l;Be(V),(l=p.value)==null||l.reset()}),re(_e),(V,l)=>(E(),I(ne,null,[t(e(w),null,{default:n(()=>[m(i(e(o).example),1)]),_:1}),t(e(x),{ref_key:"form",ref:p,disabled:u.value,readonly:v.value,"scroll-to-error":"start","scroll-to-error-offset-y":"14.4vmin"},{default:n(()=>[t(e(O),{direction:"column",size:["4vmin",0]},{default:n(()=>[t(e(D),{placeholder:e(o).username,rules:[a=>!!a||e(o).usernameMessage],modelValue:s.username,"onUpdate:modelValue":l[0]||(l[0]=a=>s.username=a)},null,8,["placeholder","rules","modelValue"]),t(e(D),{type:"password",placeholder:e(o).password,rules:[a=>!!a||e(o).passwordMessage],modelValue:s.password,"onUpdate:modelValue":l[1]||(l[1]=a=>s.password=a)},null,8,["placeholder","rules","modelValue"]),t(e(L),{placeholder:e(o).department,rules:[a=>!!a||e(o).departmentMessage],modelValue:s.department,"onUpdate:modelValue":l[2]||(l[2]=a=>s.department=a)},{default:n(()=>[t(e(k),{label:`${e(o).eat}${e(o).departmentUnit}`},null,8,["label"]),t(e(k),{label:`${e(o).sleep}${e(o).departmentUnit}`},null,8,["label"]),t(e(k),{label:`${e(o).play}${e(o).departmentUnit}`},null,8,["label"])]),_:1},8,["placeholder","rules","modelValue"]),t(e(L),{multiple:"",placeholder:e(o).group,rules:[a=>a.length>=1||e(o).groupMessage],modelValue:s.group,"onUpdate:modelValue":l[3]||(l[3]=a=>s.group=a)},{default:n(()=>[t(e(k),{label:`${e(o).eat}${e(o).groupUnit}`},null,8,["label"]),t(e(k),{label:`${e(o).sleep}${e(o).groupUnit}`},null,8,["label"]),t(e(k),{label:`${e(o).play}${e(o).groupUnit}`},null,8,["label"])]),_:1},8,["placeholder","rules","modelValue"]),t(e(ge),{rules:[a=>!!a||e(o).genderMessage],modelValue:s.gender,"onUpdate:modelValue":l[4]||(l[4]=a=>s.gender=a)},{default:n(()=>[t(e(A),{"checked-value":1},{default:n(()=>[m(i(e(o).male),1)]),_:1}),t(e(A),{"checked-value":2},{default:n(()=>[m(i(e(o).female),1)]),_:1})]),_:1},8,["rules","modelValue"]),t(e(fe),{rules:[a=>a.length>0||e(o).likeMessage],modelValue:s.like,"onUpdate:modelValue":l[5]||(l[5]=a=>s.like=a)},{default:n(()=>[t(e(h),{"checked-value":1},{default:n(()=>[m(i(e(o).eat),1)]),_:1}),t(e(h),{"checked-value":2},{default:n(()=>[m(i(e(o).sleep),1)]),_:1}),t(e(h),{"checked-value":3},{default:n(()=>[m(i(e(o).play),1)]),_:1})]),_:1},8,["rules","modelValue"]),t(e(Me),{rules:[a=>a>=3||e(o).rateMessage],modelValue:s.score,"onUpdate:modelValue":l[6]||(l[6]=a=>s.score=a)},null,8,["rules","modelValue"]),t(e(ve),{rules:[a=>!!a||e(o).licenseMessage],modelValue:s.license,"onUpdate:modelValue":l[7]||(l[7]=a=>s.license=a)},null,8,["rules","modelValue"]),t(e(ye),{rules:[a=>a>10||e(o).countMessage],modelValue:s.count,"onUpdate:modelValue":l[8]||(l[8]=a=>s.count=a)},null,8,["rules","modelValue"]),t(e(Ve),{rules:[a=>a>10||e(o).rangeMessage],modelValue:s.range,"onUpdate:modelValue":l[9]||(l[9]=a=>s.range=a)},null,8,["rules","modelValue"]),t(e(be),{rules:[a=>a.length>=1||e(o).filesMessage],modelValue:s.files,"onUpdate:modelValue":l[10]||(l[10]=a=>s.files=a)},null,8,["rules","modelValue"])]),_:1}),t(e(w),null,{default:n(()=>[m(i(e(o).customFormComponent),1)]),_:1}),t(e(Ie),{"extra-message":e(o).customExtraMessage,rules:[a=>!!a||e(o).customErrorMessage],modelValue:s.custom,"onUpdate:modelValue":l[11]||(l[11]=a=>s.custom=a)},{default:n(()=>[m(i(e(o).customLabel),1)]),_:1},8,["extra-message","rules","modelValue"])]),_:1},8,["disabled","readonly"]),t(e(w),null,{default:n(()=>[m(i(e(o).controller),1)]),_:1}),t(e(O),{direction:"column",size:["4vmin",0]},{default:n(()=>[t(e(C),{block:"",type:"danger",onClick:l[12]||(l[12]=a=>p.value.reset())},{default:n(()=>[m(i(e(o).reset),1)]),_:1}),t(e(C),{block:"",type:"warning",onClick:l[13]||(l[13]=a=>p.value.resetValidation())},{default:n(()=>[m(i(e(o).resetValidation),1)]),_:1}),t(e(C),{block:"",type:"success",onClick:l[14]||(l[14]=a=>p.value.validate())},{default:n(()=>[m(i(e(o).validate),1)]),_:1}),t(e(C),{block:"",type:"info",onClick:l[15]||(l[15]=a=>u.value=!u.value)},{default:n(()=>[m(i(e(o).disabled),1)]),_:1}),t(e(C),{block:"",type:"primary",onClick:l[16]||(l[16]=a=>v.value=!v.value)},{default:n(()=>[m(i(e(o).readonly),1)]),_:1})]),_:1}),De],64))}},wa=F(Le,[["__scopeId","data-v-9da29a7c"]]);export{wa as default};
